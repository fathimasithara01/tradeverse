<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Web Configuration</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">


    <link rel="stylesheet" href="/static/sidebar.css">
    <link rel="stylesheet" href="/static/webConfiguration.css">

</head>

<body>
    <div class="wrapper">
        {{template "admin_sidebar" .}}
        <div class="main-content">
            <div class="header">
                <h1>Web Configuration</h1>
                <div class="user-info">
                    <!-- User dropdown or info here -->
                    <a href="/admin/logout" style="color:#34495e; text-decoration: none;">Logout</a>
                </div>
            </div>

            <div style="margin-top: 20px;">
                <!-- Success/Error Messages -->
                {{if .success}}
                <div class="alert alert-success">{{.success}}</div>
                {{end}}
                {{if .error}}
                <div class="alert alert-danger">{{.error}}</div>
                {{end}}

                <form action="/admin/web-configuration" method="POST">
                    <div class="settings-card">
                        <h2>Application Settings</h2>

                        <div class="grid-container">
                            <!-- Web Configuration Column -->
                            <div>
                                <h3>Web Configuration</h3>
                                <div class="form-group">
                                    <label for="filesystem_config">Filesystem</label>
                                    <!-- This could be a dropdown for 'Local', 'S3', etc. For now, it's text. -->
                                    <input type="text" id="filesystem_config" name="filesystem_config"
                                        value="{{.config.FilesystemConfig}}" readonly>
                                </div>
                                <!-- Add more web configuration settings here if needed -->
                            </div>

                            <!-- Currencies & Countries Column -->
                            <div>
                                <h3>Currencies & Countries</h3>
                                <div class="form-group">
                                    <label for="primary_country">Primary Country</label>
                                    <select id="primary_country" name="primary_country" required>
                                        {{range .countries}}
                                        <option value="{{.}}" {{if eq . $.config.PrimaryCountry}}selected{{end}}>{{.}}
                                        </option>
                                        {{end}}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="primary_currency">Primary Currency</label>
                                    <select id="primary_currency" name="primary_currency" required>
                                        {{range .currencies}}
                                        <option value="{{.}}" {{if eq . $.config.PrimaryCurrency}}selected{{end}}>{{.}}
                                        </option>
                                        {{end}}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="primary_timezone">Timezone</label>
                                    <select id="primary_timezone" name="primary_timezone" required>
                                        {{range .timezones}}
                                        <option value="{{.}}" {{if eq . $.config.PrimaryTimezone}}selected{{end}}>{{.}}
                                        </option>
                                        {{end}}
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div style="overflow: auto;">
                            <button type="submit" class="btn-save">Save</button>
                        </div>
                    </div>
                </form>

                <!-- Map Data section - as seen in your image, if you have it -->
                <div class="settings-card">
                    <h2>Map Data</h2>
                    <div class="form-group">
                        <label>Enable map</label>
                        <input type="checkbox" name="enable_map" {{if true}}checked{{end}}>
                        <!-- Example: true or false based on config -->
                        <button type="button" class="btn-save" style="float: right;">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include your admin JS files here -->
    <script src="/static/js/admin_main.js"></script> <!-- Example JS -->
    <script>
        // Any specific JS for this page can go here or in admin_main.js
        document.addEventListener('DOMContentLoaded', function () {
            // Example: Add a confirmation dialog before saving
            const saveButton = document.querySelector('.btn-save[type="submit"]');
            if (saveButton) {
                saveButton.addEventListener('click', function (event) {
                    // if (!confirm('Are you sure you want to save these changes?')) {
                    //     event.preventDefault();
                    // }
                });
            }
        });
    </script>
</body>

</html>