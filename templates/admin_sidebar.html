{{define "admin_sidebar"}}
<nav id="sidebar">
  <div class="sidebar-header">
    <h3>TradeVerse</h3>
  </div>

  <ul id="sidebar-nav" class="list-unstyled components">

    <!-- Main -->
    <li class="nav-heading">Main</li>
    <li class="nav-item {{if eq .ActiveTab "dashboard"}}active{{end}}">
      <a href="/admin/dashboard" class="nav-link">
        <i class="fas fa-tachometer-alt"></i> Dashboard
      </a>
    </li>

    <!-- Core Management -->
    <li class="nav-heading">Core Management</li>

    <li class="nav-item">
      <a href="#permissionsSubmenu" data-bs-toggle="collapse"
        class="nav-link d-flex justify-content-between align-items-center {{if eq .ActiveTab "permissions"}}active{{end}}"
        aria-expanded="{{if eq .ActiveTab "permissions"}}true{{else}}false{{end}}">
        <div><i class="fas fa-shield-alt"></i> <span>Users & Permissions</span></div>
        <i class="fas fa-chevron-right collapse-arrow"></i>
      </a>

      <ul class="collapse list-unstyled {{if eq .ActiveTab "permissions"}}show{{end}}" id="permissionsSubmenu">
        <li class="nav-item"><a href="/admin/users/all" class="nav-link {{if eq .ActiveSubTab "manage_users"}}active{{end}}">Manage Users</a></li>
        <li class="nav-item"><a href="/admin/roles" class="nav-link {{if eq .ActiveSubTab "manage_roles"}}active{{end}}">Manage Roles</a></li>
        <li class="nav-item"><a href="/admin/roles/permissions" class="nav-link {{if eq .ActiveSubTab "assign_permissions"}}active{{end}}">Assign Permissions</a></li>
        <li class="nav-item"><a href="/admin/users/assign-role" class="nav-link {{if eq .ActiveSubTab "assign_role_to_users"}}active{{end}}">Assign Role to Users</a></li>
      </ul>
    </li>

    <!-- Customer Management -->
    <li class="nav-item">
      <a href="#customerSubmenu" data-bs-toggle="collapse"
        class="nav-link d-flex justify-content-between align-items-center {{if eq .ActiveTab "customer"}}active{{end}}"
        aria-expanded="{{if eq .ActiveTab "customer"}}true{{else}}false{{end}}">
        <div><i class="fas fa-users"></i> <span>Customer Management</span></div>
        <i class="fas fa-chevron-right collapse-arrow"></i>
      </a>

      <ul class="collapse list-unstyled {{if eq .ActiveTab "customer"}}show{{end}}" id="customerSubmenu">
        <li class="nav-item"><a href="/admin/users/customers" class="nav-link {{if eq .ActiveSubTab "customers_list"}}active{{end}}">Customers List</a></li>
      </ul>
    </li>

    <!-- Trader Management -->
    <li class="nav-item">
      <a href="#traderSubmenu" data-bs-toggle="collapse"
        class="nav-link d-flex justify-content-between align-items-center {{if eq .ActiveTab "trader"}}active{{end}}"
        aria-expanded="{{if eq .ActiveTab "trader"}}true{{else}}false{{end}}">
        <div><i class="fas fa-user-tie"></i> <span>Trader Management</span></div>
        <i class="fas fa-chevron-right collapse-arrow"></i>
      </a>

      <ul class="collapse list-unstyled {{if eq .ActiveTab "trader"}}show{{end}}" id="traderSubmenu">
        <li class="nav-item"><a href="/admin/users/traders" class="nav-link {{if eq .ActiveSubTab "traders_list"}}active{{end}}">Traders List</a></li>
        <li class="nav-item"><a href="/admin/users/traders/approval" class="nav-link {{if eq .ActiveSubTab "trader_approval"}}active{{end}}">Trader Approval</a></li>
      </ul>
    </li>

    <!-- Signal Activity -->
    <li class="nav-heading">Signal Activity</li>
    <li class="nav-item {{if eq .ActiveTab "activity"}}active{{end}}">
      <a href="/admin/signal-cards" class="nav-link">
        <i class="fas fa-chart-line"></i> Signal Cards
      </a>
    </li>

    <!-- Subscriptions -->
    <li class="nav-heading">Subscriptions</li>

    <li class="nav-item">
      <a href="#subscriptionSubmenu" data-bs-toggle="collapse"
        class="nav-link d-flex justify-content-between align-items-center {{if eq .ActiveTab "subscription"}}active{{end}}"
        aria-expanded="{{if eq .ActiveTab "subscription"}}true{{else}}false{{end}}">
        <div><i class="fas fa-dollar-sign"></i> <span>Upgrade Subscription</span></div>
        <i class="fas fa-chevron-right collapse-arrow"></i>
      </a>
      <ul class="collapse list-unstyled {{if eq .ActiveTab "subscription"}}show{{end}}" id="subscriptionSubmenu">
        <li class="nav-item"><a href="/admin/subscriptions" class="nav-link {{if eq .ActiveSubTab "subscriptions"}}active{{end}}">Subscriptions</a></li>
        <li class="nav-item"><a href="/admin/subscription-plans" class="nav-link {{if eq .ActiveSubTab "subscription_plans"}}active{{end}}">Subscription Plans</a></li>
      </ul>
    </li>

    <!-- Signal Subscription -->
    <li class="nav-item">
      <a href="#signalSubscriptionSubmenu" data-bs-toggle="collapse"
        class="nav-link d-flex justify-content-between align-items-center {{if eq .ActiveTab "signal_subscription"}}active{{end}}"
        aria-expanded="{{if eq .ActiveTab "signal_subscription"}}true{{else}}false{{end}}">
        <div><i class="fas fa-wifi"></i> <span>Signal-Cards Subscription</span></div>
        <i class="fas fa-chevron-right collapse-arrow"></i>
      </a>
    </li>

    <!-- Financials -->
    <li class="nav-heading">Financials</li>

    <li class="nav-item">
      <a href="#traderSignalPriceSubmenu" data-bs-toggle="collapse"
        class="nav-link d-flex justify-content-between align-items-center {{if eq .ActiveTab "trader_signal_price_role"}}active{{end}}"
        aria-expanded="{{if eq .ActiveTab "trader_signal_price_role"}}true{{else}}false{{end}}">
        <div><i class="fas fa-tags"></i> <span>Trader Price-Role</span></div>
        <i class="fas fa-chevron-right collapse-arrow"></i>
      </a>
      <ul class="collapse list-unstyled {{if eq .ActiveTab "trader_signal_price_role"}}show{{end}}" id="traderSignalPriceSubmenu">
        <li class="nav-item"><a href="/admin/settings/commission" class="nav-link {{if eq .ActiveSubTab "commission"}}active{{end}}">Manage Price Roles</a></li>
      </ul>
    </li>

    <li class="nav-item">
      <a href="#financialsSubmenu" data-bs-toggle="collapse"
        class="nav-link d-flex justify-content-between align-items-center {{if eq .ActiveTab "financials"}}active{{end}}"
        aria-expanded="{{if eq .ActiveTab "financials"}}true{{else}}false{{end}}">
        <div><i class="fas fa-wallet"></i> <span>Financials</span></div>
        <i class="fas fa-chevron-right collapse-arrow"></i>
      </a>

      <ul class="collapse list-unstyled {{if eq .ActiveTab "financials"}}show{{end}}" id="financialsSubmenu">
        <li class="nav-item {{if eq .ActiveSubTab "admin_wallet"}}active{{end}}">
          <a href="/admin/financials/wallet" class="nav-link">Admin Wallet</a>
        </li>
        <li class="nav-item {{if eq .ActiveSubTab "transactions"}}active{{end}}">
          <a href="/admin/transactions" class="nav-link">Transactions</a>
        </li>
      </ul>
    </li>

    <!-- Admin Profile -->
    <li class="nav-item {{if eq .ActiveTab "admin_profile"}}active{{end}}">
      <a href="/admin/profile/view" class="nav-link">
        <i class="fas fa-user-circle"></i> Admin Profile
      </a>
    </li>

    <!-- Settings -->
    <li class="nav-heading">Settings</li>
    <li class="nav-item {{if eq .ActiveTab "system_settings"}}active{{end}}">
      <a href="/admin/settings" class="nav-link">
        <i class="fas fa-cogs"></i> Web Configuration
      </a>
    </li>

  </ul>
</nav>
{{end}}
